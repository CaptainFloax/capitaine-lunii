{
  "version": 3,
  "sources": ["../../keymaster/keymaster.js", "../../react-tetris/lib/components/Tetris.js", "../../react-tetris/lib/components/Gameboard.js", "../../react-tetris/lib/constants.js", "../../react-tetris/lib/models/Piece.js", "../../react-tetris/lib/models/Matrix.js", "../../react-tetris/lib/modules/piece-queue.js", "../../react-tetris/lib/models/Game.js", "../../react-tetris/lib/context.js", "../../react-tetris/lib/components/HeldPiece.js", "../../react-tetris/lib/components/PieceView.js", "../../react-tetris/lib/components/PieceQueue.js", "../../react-tetris/lib/hooks/useKeyboardControls.js", "../../react-tetris/lib/modules/detect-shift.js"],
  "sourcesContent": ["//     keymaster.js\n//     (c) 2011-2013 Thomas Fuchs\n//     keymaster.js may be freely distributed under the MIT license.\n\n;(function(global){\n  var k,\n    _handlers = {},\n    _mods = { 16: false, 18: false, 17: false, 91: false },\n    _scope = 'all',\n    // modifier keys\n    _MODIFIERS = {\n      '⇧': 16, shift: 16,\n      '⌥': 18, alt: 18, option: 18,\n      '⌃': 17, ctrl: 17, control: 17,\n      '⌘': 91, command: 91\n    },\n    // special keys\n    _MAP = {\n      backspace: 8, tab: 9, clear: 12,\n      enter: 13, 'return': 13,\n      esc: 27, escape: 27, space: 32,\n      left: 37, up: 38,\n      right: 39, down: 40,\n      del: 46, 'delete': 46,\n      home: 36, end: 35,\n      pageup: 33, pagedown: 34,\n      ',': 188, '.': 190, '/': 191,\n      '`': 192, '-': 189, '=': 187,\n      ';': 186, '\\'': 222,\n      '[': 219, ']': 221, '\\\\': 220\n    },\n    code = function(x){\n      return _MAP[x] || x.toUpperCase().charCodeAt(0);\n    },\n    _downKeys = [];\n\n  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;\n\n  // IE doesn't support Array#indexOf, so have a simple replacement\n  function index(array, item){\n    var i = array.length;\n    while(i--) if(array[i]===item) return i;\n    return -1;\n  }\n\n  // for comparing mods before unassignment\n  function compareArray(a1, a2) {\n    if (a1.length != a2.length) return false;\n    for (var i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) return false;\n    }\n    return true;\n  }\n\n  var modifierMap = {\n      16:'shiftKey',\n      18:'altKey',\n      17:'ctrlKey',\n      91:'metaKey'\n  };\n  function updateModifierKey(event) {\n      for(k in _mods) _mods[k] = event[modifierMap[k]];\n  };\n\n  // handle keydown event\n  function dispatch(event) {\n    var key, handler, k, i, modifiersMatch, scope;\n    key = event.keyCode;\n\n    if (index(_downKeys, key) == -1) {\n        _downKeys.push(key);\n    }\n\n    // if a modifier key, set the key.<modifierkeyname> property to true and return\n    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\n    if(key in _mods) {\n      _mods[key] = true;\n      // 'assignKey' from inside this closure is exported to window.key\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;\n      return;\n    }\n    updateModifierKey(event);\n\n    // see if we need to ignore the keypress (filter() can can be overridden)\n    // by default ignore key presses if a select, textarea, or input is focused\n    if(!assignKey.filter.call(this, event)) return;\n\n    // abort if no potentially matching shortcuts found\n    if (!(key in _handlers)) return;\n\n    scope = getScope();\n\n    // for each potential shortcut\n    for (i = 0; i < _handlers[key].length; i++) {\n      handler = _handlers[key][i];\n\n      // see if it's in the current scope\n      if(handler.scope == scope || handler.scope == 'all'){\n        // check if modifiers match if any\n        modifiersMatch = handler.mods.length > 0;\n        for(k in _mods)\n          if((!_mods[k] && index(handler.mods, +k) > -1) ||\n            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;\n        // call the handler and stop the event if neccessary\n        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){\n          if(handler.method(event, handler)===false){\n            if(event.preventDefault) event.preventDefault();\n              else event.returnValue = false;\n            if(event.stopPropagation) event.stopPropagation();\n            if(event.cancelBubble) event.cancelBubble = true;\n          }\n        }\n      }\n    }\n  };\n\n  // unset modifier keys on keyup\n  function clearModifier(event){\n    var key = event.keyCode, k,\n        i = index(_downKeys, key);\n\n    // remove key from _downKeys\n    if (i >= 0) {\n        _downKeys.splice(i, 1);\n    }\n\n    if(key == 93 || key == 224) key = 91;\n    if(key in _mods) {\n      _mods[key] = false;\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;\n    }\n  };\n\n  function resetModifiers() {\n    for(k in _mods) _mods[k] = false;\n    for(k in _MODIFIERS) assignKey[k] = false;\n  };\n\n  // parse and assign shortcut\n  function assignKey(key, scope, method){\n    var keys, mods;\n    keys = getKeys(key);\n    if (method === undefined) {\n      method = scope;\n      scope = 'all';\n    }\n\n    // for each shortcut\n    for (var i = 0; i < keys.length; i++) {\n      // set modifier keys if any\n      mods = [];\n      key = keys[i].split('+');\n      if (key.length > 1){\n        mods = getMods(key);\n        key = [key[key.length-1]];\n      }\n      // convert to keycode and...\n      key = key[0]\n      key = code(key);\n      // ...store handler\n      if (!(key in _handlers)) _handlers[key] = [];\n      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });\n    }\n  };\n\n  // unbind all handlers for given key in current scope\n  function unbindKey(key, scope) {\n    var multipleKeys, keys,\n      mods = [],\n      i, j, obj;\n\n    multipleKeys = getKeys(key);\n\n    for (j = 0; j < multipleKeys.length; j++) {\n      keys = multipleKeys[j].split('+');\n\n      if (keys.length > 1) {\n        mods = getMods(keys);\n        key = keys[keys.length - 1];\n      }\n\n      key = code(key);\n\n      if (scope === undefined) {\n        scope = getScope();\n      }\n      if (!_handlers[key]) {\n        return;\n      }\n      for (i = 0; i < _handlers[key].length; i++) {\n        obj = _handlers[key][i];\n        // only clear handlers if correct scope and mods match\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\n          _handlers[key][i] = {};\n        }\n      }\n    }\n  };\n\n  // Returns true if the key with code 'keyCode' is currently down\n  // Converts strings into key codes.\n  function isPressed(keyCode) {\n      if (typeof(keyCode)=='string') {\n        keyCode = code(keyCode);\n      }\n      return index(_downKeys, keyCode) != -1;\n  }\n\n  function getPressedKeyCodes() {\n      return _downKeys.slice(0);\n  }\n\n  function filter(event){\n    var tagName = (event.target || event.srcElement).tagName;\n    // ignore keypressed in any elements that support keyboard data input\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\n  }\n\n  // initialize key.<modifier> to false\n  for(k in _MODIFIERS) assignKey[k] = false;\n\n  // set current scope (default 'all')\n  function setScope(scope){ _scope = scope || 'all' };\n  function getScope(){ return _scope || 'all' };\n\n  // delete all handlers for a given scope\n  function deleteScope(scope){\n    var key, handlers, i;\n\n    for (key in _handlers) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length; ) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);\n        else i++;\n      }\n    }\n  };\n\n  // abstract key logic for assign and unassign\n  function getKeys(key) {\n    var keys;\n    key = key.replace(/\\s/g, '');\n    keys = key.split(',');\n    if ((keys[keys.length - 1]) == '') {\n      keys[keys.length - 2] += ',';\n    }\n    return keys;\n  }\n\n  // abstract mods logic for assign and unassign\n  function getMods(key) {\n    var mods = key.slice(0, key.length - 1);\n    for (var mi = 0; mi < mods.length; mi++)\n    mods[mi] = _MODIFIERS[mods[mi]];\n    return mods;\n  }\n\n  // cross-browser events\n  function addEvent(object, event, method) {\n    if (object.addEventListener)\n      object.addEventListener(event, method, false);\n    else if(object.attachEvent)\n      object.attachEvent('on'+event, function(){ method(window.event) });\n  };\n\n  // set the handlers globally on document\n  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\n  addEvent(document, 'keyup', clearModifier);\n\n  // reset modifiers to false whenever the window is (re)focused.\n  addEvent(window, 'focus', resetModifiers);\n\n  // store previously defined key\n  var previousKey = global.key;\n\n  // restore previously defined key and return reference to our key object\n  function noConflict() {\n    var k = global.key;\n    global.key = previousKey;\n    return k;\n  }\n\n  // set window.key and window.key.set/get/deleteScope, and the default filter\n  global.key = assignKey;\n  global.key.setScope = setScope;\n  global.key.getScope = getScope;\n  global.key.deleteScope = deleteScope;\n  global.key.filter = filter;\n  global.key.isPressed = isPressed;\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\n  global.key.noConflict = noConflict;\n  global.key.unbind = unbindKey;\n\n  if(typeof module !== 'undefined') module.exports = assignKey;\n\n})(this);\n", "import React from 'react';\nimport Gameboard from './Gameboard';\nimport * as Game from '../models/Game';\nimport HeldPiece from './HeldPiece';\nimport PieceQueue from './PieceQueue';\nimport { Context } from '../context';\nimport { useKeyboardControls } from '../hooks/useKeyboardControls';\nvar defaultKeyboardMap = {\n    down: 'MOVE_DOWN',\n    left: 'MOVE_LEFT',\n    right: 'MOVE_RIGHT',\n    space: 'HARD_DROP',\n    z: 'FLIP_COUNTERCLOCKWISE',\n    x: 'FLIP_CLOCKWISE',\n    up: 'FLIP_CLOCKWISE',\n    p: 'TOGGLE_PAUSE',\n    c: 'HOLD',\n    shift: 'HOLD'\n};\n// https://harddrop.com/wiki/Tetris_Worlds#Gravity\nvar tickSeconds = function (level) {\n    return Math.pow((0.8 - (level - 1) * 0.007), (level - 1));\n};\nexport default function Tetris(props) {\n    var _a;\n    var _b = React.useReducer(Game.update, Game.init()), game = _b[0], dispatch = _b[1];\n    var keyboardMap = (_a = props.keyboardControls) !== null && _a !== void 0 ? _a : defaultKeyboardMap;\n    useKeyboardControls(keyboardMap, dispatch);\n    var level = Game.getLevel(game);\n    React.useEffect(function () {\n        var interval;\n        if (game.state === 'PLAYING') {\n            interval = window.setInterval(function () {\n                dispatch('TICK');\n            }, tickSeconds(level) * 1000);\n        }\n        return function () {\n            window.clearInterval(interval);\n        };\n    }, [game.state, level]);\n    var controller = React.useMemo(function () { return ({\n        pause: function () { return dispatch('PAUSE'); },\n        resume: function () { return dispatch('RESUME'); },\n        hold: function () { return dispatch('HOLD'); },\n        hardDrop: function () { return dispatch('HARD_DROP'); },\n        moveDown: function () { return dispatch('MOVE_DOWN'); },\n        moveLeft: function () { return dispatch('MOVE_LEFT'); },\n        moveRight: function () { return dispatch('MOVE_RIGHT'); },\n        flipClockwise: function () { return dispatch('FLIP_CLOCKWISE'); },\n        flipCounterclockwise: function () { return dispatch('FLIP_COUNTERCLOCKWISE'); },\n        restart: function () { return dispatch('RESTART'); }\n    }); }, [dispatch]);\n    return (React.createElement(Context.Provider, { value: game }, props.children({\n        HeldPiece: HeldPiece,\n        Gameboard: Gameboard,\n        PieceQueue: PieceQueue,\n        points: game.points,\n        linesCleared: game.lines,\n        state: game.state,\n        level: level,\n        controller: controller\n    })));\n}\n", "import React from 'react';\nimport { viewMatrix } from '../models/Game';\nimport { getClassName } from '../models/Piece';\nimport { Context } from '../context';\nexport default function GameboardView() {\n    var game = React.useContext(Context);\n    var matrix = viewMatrix(game);\n    return (React.createElement(\"table\", { className: \"game-board\" },\n        React.createElement(\"tbody\", null, matrix.map(function (row, i) {\n            var blocksInRow = row.map(function (block, j) {\n                var classString = \"game-block \".concat(block ? getClassName(block) : 'block-empty');\n                return React.createElement(\"td\", { key: j, className: classString });\n            });\n            return React.createElement(\"tr\", { key: i }, blocksInRow);\n        }))));\n}\n", "export default {\n    // dimensions in \"cells\"\n    GAME_WIDTH: 10,\n    GAME_HEIGHT: 20,\n    BLOCK_WIDTH: 4,\n    BLOCK_HEIGHT: 4,\n    ROTATION_COUNT: 4\n};\n", "import Constants from '../constants';\nexport var pieces = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'];\nexport var isRotation = function (num) {\n    return num >= 0 && num < Constants.ROTATION_COUNT;\n};\nexport var getBlocks = function (piece) {\n    switch (piece) {\n        case 'I':\n            return [\n                [\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0]\n                ],\n                [\n                    [0, 0, 0, 0],\n                    [1, 1, 1, 1],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 0, 1, 0],\n                    [0, 0, 1, 0],\n                    [0, 0, 1, 0],\n                    [0, 0, 1, 0]\n                ],\n                [\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0],\n                    [1, 1, 1, 1],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'J':\n            return [\n                [\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 0, 0, 0],\n                    [1, 1, 1, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 1, 0],\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 0, 0, 0],\n                    [1, 1, 1, 0],\n                    [0, 0, 1, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'L':\n            return [\n                [\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 1, 1, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 0, 0, 0],\n                    [1, 1, 1, 0],\n                    [1, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 0, 1, 0],\n                    [1, 1, 1, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'O':\n            return [\n                [\n                    [1, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'S':\n            return [\n                [\n                    [0, 0, 0, 0],\n                    [0, 1, 1, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 0, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 1, 0],\n                    [1, 1, 0, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 0, 0],\n                    [0, 1, 1, 0],\n                    [0, 0, 1, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'T':\n            return [\n                [\n                    [0, 0, 0, 0],\n                    [1, 1, 1, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 0, 0],\n                    [1, 1, 1, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 0, 0],\n                    [0, 1, 1, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        case 'Z':\n            return [\n                [\n                    [0, 0, 0, 0],\n                    [1, 1, 0, 0],\n                    [0, 1, 1, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 1, 0, 0],\n                    [1, 1, 0, 0],\n                    [1, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [1, 1, 0, 0],\n                    [0, 1, 1, 0],\n                    [0, 0, 0, 0],\n                    [0, 0, 0, 0]\n                ],\n                [\n                    [0, 0, 1, 0],\n                    [0, 1, 1, 0],\n                    [0, 1, 0, 0],\n                    [0, 0, 0, 0]\n                ]\n            ];\n        default: {\n            var exhaustiveCheck = piece;\n            throw new Error(\"Unhandled color case: \".concat(exhaustiveCheck));\n        }\n    }\n};\nexport var getClassName = function (piece) {\n    switch (piece) {\n        case 'I':\n            return 'piece-i';\n        case 'J':\n            return 'piece-j';\n        case 'L':\n            return 'piece-l';\n        case 'O':\n            return 'piece-o';\n        case 'S':\n            return 'piece-s';\n        case 'T':\n            return 'piece-t';\n        case 'Z':\n            return 'piece-z';\n        case 'ghost':\n            return 'piece-preview';\n        default: {\n            var exhaustiveCheck = piece;\n            throw new Error(\"Unhandled piece case: \".concat(exhaustiveCheck));\n        }\n    }\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport Constants from '../constants';\nimport { getBlocks, isRotation } from './Piece';\nvar GAME_HEIGHT = Constants.GAME_HEIGHT, GAME_WIDTH = Constants.GAME_WIDTH;\nvar serializeCoords = function (_a) {\n    var x = _a.x, y = _a.y;\n    return \"\".concat(x, \",\").concat(y);\n};\nexport function buildMatrix() {\n    var matrix = new Array(GAME_HEIGHT);\n    for (var y = 0; y < matrix.length; y++) {\n        matrix[y] = buildGameRow();\n    }\n    return matrix;\n}\nfunction buildGameRow() {\n    return new Array(GAME_WIDTH).fill(null);\n}\nexport var addPieceToBoard = function (matrix, positionedPiece, isGhost) {\n    if (isGhost === void 0) { isGhost = false; }\n    var piece = positionedPiece.piece, rotation = positionedPiece.rotation, position = positionedPiece.position;\n    var block = getBlocks(piece)[rotation];\n    if (!block) {\n        throw new Error(\"Unexpected: no rotation \".concat(rotation, \" found to piece \").concat(piece));\n    }\n    var filledCells = block.reduce(function (output, row, y) {\n        return output.concat(row.map(function (cell, x) {\n            return cell ? { x: x + position.x, y: y + position.y } : false;\n        }));\n    }, []);\n    var filled = new Set(filledCells\n        .map(function (value) { return (value ? serializeCoords(value) : ''); })\n        .filter(Boolean));\n    var value = isGhost ? 'ghost' : piece;\n    return matrix.map(function (row, y) {\n        return row.map(function (cell, x) {\n            return filled.has(serializeCoords({ x: x, y: y })) ? value : cell;\n        });\n    });\n};\nexport function setPiece(matrix, positionedPiece) {\n    var _matrix = addPieceToBoard(matrix, positionedPiece);\n    // TODO: purify\n    var linesCleared = clearFullLines(_matrix);\n    return [_matrix, linesCleared];\n}\nfunction clearFullLines(matrix) {\n    var linesCleared = 0;\n    for (var y = 0; y < matrix.length; y++) {\n        // it's a full line\n        if (every(matrix[y])) {\n            // so rip it out\n            matrix.splice(y, 1);\n            matrix.unshift(buildGameRow());\n            linesCleared += 1;\n        }\n    }\n    return linesCleared;\n}\nfunction every(list) {\n    for (var i = 0; i < list.length; i++) {\n        if (!list[i])\n            return false;\n    }\n    return true;\n}\nexport function isEmptyPosition(matrix, positionedPiece) {\n    var piece = positionedPiece.piece, rotation = positionedPiece.rotation, position = positionedPiece.position;\n    var blocks = getBlocks(piece)[rotation];\n    for (var x = 0; x < Constants.BLOCK_WIDTH; x++) {\n        for (var y = 0; y < Constants.BLOCK_HEIGHT; y++) {\n            var block = blocks[y][x];\n            var matrixX = x + position.x;\n            var matrixY = y + position.y;\n            // might not be filled, ya know\n            if (block) {\n                // make sure it's on the matrix\n                if (matrixX >= 0 && matrixX < GAME_WIDTH && matrixY < GAME_HEIGHT) {\n                    // make sure it's available\n                    if (!matrix[matrixY] || matrix[matrixY][matrixX]) {\n                        // that square is taken by the matrix already\n                        return false;\n                    }\n                }\n                else {\n                    // there's a square in the block that's off the matrix\n                    return false;\n                }\n            }\n        }\n    }\n    return true;\n}\nfunction assert(value) {\n    if (!value)\n        throw new Error('assertion failed');\n}\nfunction tryMove(move) {\n    return function (gameboard, positionedPiece) {\n        var updatedPiece = move(positionedPiece);\n        if (isEmptyPosition(gameboard, updatedPiece)) {\n            return updatedPiece;\n        }\n        return undefined;\n    };\n}\nexport var moveLeft = tryMove(function (positionedPiece) {\n    var newPosition = __assign(__assign({}, positionedPiece.position), { x: positionedPiece.position.x - 1 });\n    return __assign(__assign({}, positionedPiece), { position: newPosition });\n});\nexport var moveRight = tryMove(function (positionedPiece) {\n    var newPosition = __assign(__assign({}, positionedPiece.position), { x: positionedPiece.position.x + 1 });\n    return __assign(__assign({}, positionedPiece), { position: newPosition });\n});\nexport var moveDown = tryMove(function (positionedPiece) {\n    var newPosition = __assign(__assign({}, positionedPiece.position), { y: positionedPiece.position.y + 1 });\n    return __assign(__assign({}, positionedPiece), { position: newPosition });\n});\nexport var flipClockwise = tryMove(function (positionedPiece) {\n    var _a;\n    var rotation = (((_a = positionedPiece.rotation) !== null && _a !== void 0 ? _a : 0) + 1) % Constants.ROTATION_COUNT;\n    assert(isRotation(rotation));\n    return __assign(__assign({}, positionedPiece), { rotation: rotation });\n});\nexport var flipCounterclockwise = tryMove(function (positionedPiece) {\n    var _a;\n    var rotation = ((_a = positionedPiece.rotation) !== null && _a !== void 0 ? _a : 0) - 1;\n    if (rotation < 0)\n        rotation += Constants.ROTATION_COUNT;\n    assert(isRotation(rotation));\n    return __assign(__assign({}, positionedPiece), { rotation: rotation });\n});\nexport function hardDrop(gameboard, positionedPiece) {\n    var position = __assign({}, positionedPiece.position);\n    while (isEmptyPosition(gameboard, __assign(__assign({}, positionedPiece), { position: position }))) {\n        position.y += 1;\n    }\n    // at this point, we just found a non-empty position, so let's step back\n    position.y -= 1;\n    return __assign(__assign({}, positionedPiece), { position: position });\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pieces } from '../models/Piece';\nexport function create(minimumLength) {\n    return fill({\n        minimumLength: minimumLength,\n        queue: [],\n        bucket: []\n    });\n}\nfunction fill(pieceQueue) {\n    var local = [];\n    var bucket = pieceQueue.bucket;\n    while (local.length + pieceQueue.queue.length < pieceQueue.minimumLength) {\n        var _a = pullFromBucket(bucket), piece = _a[0], updatedBucket = _a[1];\n        local.push(piece);\n        bucket = updatedBucket;\n    }\n    return __assign(__assign({}, pieceQueue), { queue: pieceQueue.queue.concat(local) });\n}\nexport function getNext(pieceQueue) {\n    if (!pieceQueue.queue[0]) {\n        throw new Error('Unexpected empty queue');\n    }\n    var next = pieceQueue.queue[0];\n    var queue = pieceQueue.queue.slice(1);\n    return {\n        piece: next,\n        queue: fill(__assign(__assign({}, pieceQueue), { queue: queue }))\n    };\n}\nfunction pullFromBucket(bucket) {\n    var local = bucket.slice(0);\n    if (local.length === 0) {\n        // fill the bucket\n        pieces.forEach(function (piece) {\n            // 4 is just the number of each type of piece. it's arbitrary, not magic, okay.\n            for (var i = 0; i < 4; i++) {\n                local.push(piece);\n            }\n        });\n    }\n    var randomPiece = local.splice(randomNumber(local.length), 1)[0];\n    if (!randomPiece) {\n        console.error('bucket:', JSON.stringify(local));\n        throw new Error(\"Unexpected: failed to pull from bucket\");\n    }\n    return [randomPiece, local];\n}\nfunction randomNumber(under) {\n    return Math.floor(Math.random() * under);\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { buildMatrix, addPieceToBoard, isEmptyPosition, flipClockwise, flipCounterclockwise, moveDown, moveLeft, moveRight, setPiece, hardDrop } from './Matrix';\nimport Constants from '../constants';\nimport * as PieceQueue from '../modules/piece-queue';\nexport var getLevel = function (game) { return Math.floor(game.lines / 10) + 1; };\nexport var update = function (game, action) {\n    var _a, _b;\n    switch (action) {\n        case 'RESTART': {\n            return init();\n        }\n        case 'PAUSE': {\n            return game.state === 'PLAYING' ? __assign(__assign({}, game), { state: 'PAUSED' }) : game;\n        }\n        case 'RESUME': {\n            return game.state === 'PAUSED' ? __assign(__assign({}, game), { state: 'PLAYING' }) : game;\n        }\n        case 'TOGGLE_PAUSE': {\n            if (game.state === 'PLAYING')\n                return __assign(__assign({}, game), { state: 'PAUSED' });\n            if (game.state === 'PAUSED')\n                return __assign(__assign({}, game), { state: 'PLAYING' });\n            return game;\n        }\n        case 'HARD_DROP': {\n            if (game.state !== 'PLAYING')\n                return game;\n            var piece = hardDrop(game.matrix, game.piece);\n            return lockInPiece(__assign(__assign({}, game), { piece: piece }));\n        }\n        case 'TICK':\n        case 'MOVE_DOWN': {\n            if (game.state !== 'PLAYING')\n                return game;\n            var updated = applyMove(moveDown, game);\n            if (game.piece === updated.piece) {\n                return lockInPiece(updated);\n            }\n            else {\n                return updated;\n            }\n        }\n        case 'MOVE_LEFT': {\n            return applyMove(moveLeft, game);\n        }\n        case 'MOVE_RIGHT': {\n            return applyMove(moveRight, game);\n        }\n        case 'FLIP_CLOCKWISE': {\n            return applyMove(flipClockwise, game);\n        }\n        case 'FLIP_COUNTERCLOCKWISE': {\n            return applyMove(flipCounterclockwise, game);\n        }\n        case 'HOLD': {\n            if (game.state !== 'PLAYING')\n                return game;\n            if (game.heldPiece && !game.heldPiece.available)\n                return game;\n            // Ensure the held piece will fit on the matrix\n            if (game.heldPiece &&\n                !isEmptyPosition(game.matrix, __assign(__assign({}, game.piece), { piece: game.heldPiece.piece }))) {\n                return game;\n            }\n            var next = PieceQueue.getNext(game.queue);\n            var newPiece = (_b = (_a = game.heldPiece) === null || _a === void 0 ? void 0 : _a.piece) !== null && _b !== void 0 ? _b : next.piece;\n            return __assign(__assign({}, game), { heldPiece: { piece: game.piece.piece, available: false }, piece: initializePiece(newPiece), queue: newPiece === next.piece ? next.queue : game.queue });\n        }\n    }\n};\nvar lockInPiece = function (game) {\n    var _a = setPiece(game.matrix, game.piece), matrix = _a[0], linesCleared = _a[1];\n    var next = PieceQueue.getNext(game.queue);\n    var piece = initializePiece(next.piece);\n    return __assign(__assign({}, game), { state: isEmptyPosition(matrix, piece) ? game.state : 'LOST', matrix: matrix, piece: piece, heldPiece: game.heldPiece\n            ? __assign(__assign({}, game.heldPiece), { available: true }) : undefined, queue: next.queue, lines: game.lines + linesCleared, points: game.points + addScore(linesCleared) });\n};\nvar pointsPerLine = 100;\nvar addScore = function (additionalLines) {\n    // what's this called?\n    if (additionalLines === 4) {\n        return pointsPerLine * 10;\n    }\n    else {\n        return additionalLines * pointsPerLine;\n    }\n};\nvar initialPosition = {\n    x: Constants.GAME_WIDTH / 2 - Constants.BLOCK_WIDTH / 2,\n    y: 0\n};\nvar initializePiece = function (piece) {\n    return {\n        position: initialPosition,\n        piece: piece,\n        rotation: 0\n    };\n};\nvar applyMove = function (move, game) {\n    if (game.state !== 'PLAYING')\n        return game;\n    var afterFlip = move(game.matrix, game.piece);\n    return afterFlip ? __assign(__assign({}, game), { piece: afterFlip }) : game;\n};\nexport var init = function () {\n    var queue = PieceQueue.create(5);\n    var next = PieceQueue.getNext(queue);\n    return {\n        state: 'PLAYING',\n        points: 0,\n        lines: 0,\n        matrix: buildMatrix(),\n        piece: initializePiece(next.piece),\n        heldPiece: undefined,\n        queue: next.queue\n    };\n};\n// Good display of merging piece + matrix\nexport function viewMatrix(game) {\n    var gameboard = game.matrix;\n    // set the preview\n    gameboard = addPieceToBoard(gameboard, hardDrop(gameboard, game.piece), true);\n    // set the actual piece\n    return addPieceToBoard(gameboard, game.piece);\n}\n", "import React from 'react';\nimport { init } from './models/Game';\nexport var Context = React.createContext(init());\n", "import React from 'react';\nimport PieceView from './PieceView';\nimport { Context } from '../context';\nexport default function HeldPiece() {\n    var heldPiece = React.useContext(Context).heldPiece;\n    return React.createElement(PieceView, { piece: heldPiece === null || heldPiece === void 0 ? void 0 : heldPiece.piece });\n}\n", "import React from 'react';\nimport { getBlocks, getClassName } from '../models/Piece';\nvar defaultBlock = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0]\n];\nvar PieceView = function (_a) {\n    var piece = _a.piece;\n    var fromPiece = piece && getBlocks(piece)[0];\n    var blocks = fromPiece !== null && fromPiece !== void 0 ? fromPiece : defaultBlock;\n    var rows = blocks.map(function (row, i) {\n        var blocksInRow = row.map(function (block, j) {\n            var classString = 'game-block ';\n            if (piece && block) {\n                classString += getClassName(piece);\n            }\n            else {\n                classString += 'block-empty';\n            }\n            return React.createElement(\"td\", { key: j, className: classString });\n        });\n        return React.createElement(\"tr\", { key: i }, blocksInRow);\n    });\n    return (React.createElement(\"table\", { className: \"piece-view\" },\n        React.createElement(\"tbody\", null, rows)));\n};\nexport default PieceView;\n", "import React from 'react';\nimport PieceView from './PieceView';\nimport { Context } from '../context';\nexport default function PieceQueue() {\n    var queue = React.useContext(Context).queue;\n    return (React.createElement(\"div\", null, queue.queue.map(function (piece, i) { return (React.createElement(PieceView, { piece: piece, key: i })); })));\n}\n", "import React from 'react';\nimport key from 'keymaster';\nimport DetectShift from '../modules/detect-shift';\nexport var useKeyboardControls = function (keyboardMap, dispatch) {\n    React.useEffect(function () {\n        var keyboardDispatch = Object.entries(keyboardMap).reduce(function (output, _a) {\n            var key = _a[0], action = _a[1];\n            output[key] = function () { return dispatch(action); };\n            return output;\n        }, {});\n        addKeyboardEvents(keyboardDispatch);\n        return function () { return removeKeyboardEvents(keyboardDispatch); };\n    }, [keyboardMap, dispatch]);\n};\nfunction addKeyboardEvents(keyboardMap) {\n    Object.keys(keyboardMap).forEach(function (k) {\n        var fn = keyboardMap[k];\n        if (k === 'shift' && fn) {\n            DetectShift.bind(fn);\n        }\n        else if (fn) {\n            key(k, fn);\n        }\n    });\n}\nfunction removeKeyboardEvents(keyboardMap) {\n    Object.keys(keyboardMap).forEach(function (k) {\n        if (k === 'shift') {\n            var fn = keyboardMap[k];\n            fn && DetectShift.unbind(fn);\n        }\n        else {\n            key.unbind(k);\n        }\n    });\n}\n", "/* global document */\nvar callbacks = [];\nvar isPressed = false;\ndocument.addEventListener('keydown', function (e) {\n    if (e.shiftKey && !isPressed) {\n        isPressed = e.shiftKey;\n        callCallbacks();\n    }\n    return true;\n});\ndocument.addEventListener('keyup', function (e) {\n    if (!e.shiftKey && isPressed) {\n        isPressed = e.shiftKey;\n    }\n    return true;\n});\nfunction callCallbacks() {\n    callbacks.forEach(function (callback) {\n        callback();\n    });\n}\nexport default {\n    bind: function (callback) {\n        callbacks.push(callback);\n    },\n    unbind: function (callback) {\n        var index = callbacks.indexOf(callback);\n        if (index !== -1) {\n            callbacks.splice(index, 1);\n        }\n    }\n};\n"],
  "mappings": "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",
  "names": ["key", "k", "isPressed", "import_react", "import_react", "value", "__assign", "__assign", "React", "React", "import_react", "import_react", "React", "React", "import_react", "React", "import_react", "React", "key", "React"]
}
