{"version":3,"file":"use-user-agent.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as UAParser from 'ua-parser-js';\n\ntype IUseUserAgentReturn = Omit<UAParser.IResult, 'ua'>;\n\nfunction useUserAgent(uastring = window.navigator.userAgent) {\n  let [state, setState] = React.useState<IUseUserAgentReturn | null>(null);\n\n  React.useEffect(() => {\n    let didRun = true;\n\n    try {\n      const uaParser = new UAParser.UAParser();\n      uaParser.setUA(uastring);\n      const payload = {\n        os: uaParser.getOS(),\n        browser: uaParser.getBrowser(),\n        cpu: uaParser.getCPU(),\n        device: uaParser.getDevice(),\n        engine: uaParser.getEngine(),\n      };\n      if (didRun) {\n        setState(payload);\n      }\n    } catch (err) {\n      if (didRun) {\n        setState(null);\n      }\n    }\n\n    return () => {\n      didRun = false;\n    };\n  }, [uastring]);\n\n  return state;\n}\n\nexport { useUserAgent };\n"],"names":["useUserAgent","uastring","window","navigator","userAgent","React","state","setState","didRun","uaParser","UAParser","setUA","payload","os","getOS","browser","getBrowser","cpu","getCPU","device","getDevice","engine","getEngine","err"],"mappings":";;;AAKA,SAASA,YAAT,CAAsBC,QAAtB;MAAsBA;IAAAA,WAAWC,MAAM,CAACC,SAAP,CAAiBC;;;EAChD,sBAAwBC,QAAA,CAA2C,IAA3C,CAAxB;MAAKC,KAAL;MAAYC,QAAZ;;EAEAF,SAAA,CAAgB;IACd,IAAIG,MAAM,GAAG,IAAb;;IAEA,IAAI;MACF,IAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MACAD,QAAQ,CAACE,KAAT,CAAeV,QAAf;MACA,IAAMW,OAAO,GAAG;QACdC,EAAE,EAAEJ,QAAQ,CAACK,KAAT,EADU;QAEdC,OAAO,EAAEN,QAAQ,CAACO,UAAT,EAFK;QAGdC,GAAG,EAAER,QAAQ,CAACS,MAAT,EAHS;QAIdC,MAAM,EAAEV,QAAQ,CAACW,SAAT,EAJM;QAKdC,MAAM,EAAEZ,QAAQ,CAACa,SAAT;OALV;;MAOA,IAAId,MAAJ,EAAY;QACVD,QAAQ,CAACK,OAAD,CAAR;;KAXJ,CAaE,OAAOW,GAAP,EAAY;MACZ,IAAIf,MAAJ,EAAY;QACVD,QAAQ,CAAC,IAAD,CAAR;;;;IAIJ,OAAO;MACLC,MAAM,GAAG,KAAT;KADF;GAtBF,EAyBG,CAACP,QAAD,CAzBH;EA2BA,OAAOK,KAAP;AACD;;;;"}